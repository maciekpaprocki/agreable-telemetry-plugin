!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Telemetry=e()}}(function(){return function e(t,r,n){function o(i,l){if(!r[i]){if(!t[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[i]={exports:{}};t[i][0].call(f.exports,function(e){var r=t[i][1][e];return o(r?r:e)},f,f.exports,e,t,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();window.$=window.$||jQuery||window.jQuery;var a=r.AgreableTelemetryPlugin=function(){function e(){n(this,e);var t=$("#wp-admin-bar-promo-downloads");if(t.length<1)return!1;var r=document.createElement("script");r.src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.2/sweetalert.min.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o);var a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css";var i=document.getElementsByTagName("link")[0];i.parentNode.insertBefore(a,i),t.on("click","a",this.handleClick.bind(this))}return o(e,[{key:"handleClick",value:function(e){var t=this;e.preventDefault(),$.ajax({url:e.currentTarget.href,success:function(e){200===e.status?t.showSuccessModal(e.data.password):t.showErrorModal()},error:function(e){console.log("error",e),t.showErrorModal()}})}},{key:"showSuccessModal",value:function(e){sweetAlert("Your download request was successful!","You'll get and email to say it's ready.\nPlease make a note of this password as you'll need it to open the file:\n\n"+e,"success")}},{key:"showErrorModal",value:function(){sweetAlert("There was a problem with your download request!","Something went a bit wrong, but we're not sure what. Drop us an email at helpmeitbroke@telemetry.report and we'll take a look into it for you.","warning")}}]),e}();window.onload=function(){new a}},{}]},{},[1])(1)});